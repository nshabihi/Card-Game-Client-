<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_leftSign</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-601</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>drawPressed = 0;
checkTimeDecreasing = false;
alarm[0] = 0.1 * room_speed;

var tempXCenter = view_xview[0] + view_wview[0] / 2;
var tempYCenter = view_yview[0] + view_hview[0] / 2;
var tempXNumericalScale = view_wview[0] / 1140;
var tempYNumericalScale = view_hview[0] / 720;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(checkTimeDecreasing == false)
    checkTimeDecreasing = true;

global.leagueRemainedTime -= 1;

if(global.leagueRemainedTime &lt;= 0 and global.leaderBoardRoomLoaderType == 3)
{
    drawPressed = 2;
    with(obj_rightSign)
    {
        drawPressed = 2;
    }
    global.waitTillRankingrecieved   = 1;
        
    with(ui_listbox_ext_modified)
    {
        stepCalled = false;
        if(global.leaderBoardRoomLoaderType == 3)
            y = view_yview[0] + view_hview[0] / 2 - 110 * (view_hview[0] / 720);
        else
            y = view_yview[0] + view_hview[0] / 2 - 140 * (view_hview[0] / 720);    

    }
    
    scr_enqueueReqQ(global.baseUrl+"Leaderboard/getLeaderboard?Auth="+string(global.deviceId)+","+string(global.username)+"&amp;ltype="+"lastTimePeriod","LB_lastTPeriod");
}

alarm[0] = room_speed;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(drawPressed == 1)
    drawPressed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(global.networkIsConnected ==1)
{
    if(drawPressed == 1)
    {
        drawPressed = 2;
        with(obj_rightSign)
        {
            drawPressed = 2;
        }
        global.waitTillRankingrecieved   = 1;
        
        
        if(global.leaderBoardRoomLoaderType == 2)
            global.leaderBoardRoomLoaderType = 3;
        else if (global.leaderBoardRoomLoaderType == 1)
            global.leaderBoardRoomLoaderType = 2;
        else
            global.leaderBoardRoomLoaderType = 1;
            
            
        with(ui_listbox_ext_modified)
        {
            stepCalled = false;
            if(global.leaderBoardRoomLoaderType == 3)
                y = view_yview[0] + view_hview[0] / 2 - 110 * (view_hview[0] / 720);
            else
                y = view_yview[0] + view_hview[0] / 2 - 140 * (view_hview[0] / 720);    
    
        }
        
        if(global.leaderBoardRoomLoaderType == 2)
            scr_enqueueReqQ(global.baseUrl+"Leaderboard/getLeaderboard?Auth="+string(global.deviceId)+","+string(global.username)+"&amp;ltype="+"myLeague","LB_league");
        else if(global.leaderBoardRoomLoaderType == 1)
            scr_enqueueReqQ(global.baseUrl+"Leaderboard/getLeaderboard?Auth="+string(global.deviceId)+","+string(global.username)+"&amp;ltype="+"total","LB_Total");
        else if(global.leaderBoardRoomLoaderType == 3)
            scr_enqueueReqQ(global.baseUrl+"Leaderboard/getLeaderboard?Auth="+string(global.deviceId)+","+string(global.username)+"&amp;ltype="+"lastTimePeriod","LB_lastTPeriod");
    }
}        
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(drawPressed == 0)
    drawPressed = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch(drawPressed)
{
    case 0:
        draw_self();
    break;
    
    case 1:
        draw_sprite_ext(spr_leftSign , 0 , x , y , 0.9 , 0.9,0 , -1 , 1 );
    break;
    
    case 2:
        col = make_color_rgb(161,170,197);
        draw_sprite_ext(spr_leftSign , 0 , x , y , 1 , 1,0 , col , 0.8 );
    break;
}

var tempXCenter = global.xCenter;
var tempYCenter = global.yCenter;
var tempXNumericalScale = global.numericalsXScale;
var tempYNumericalScale = global.numericalsYScale;
var leaderBoardType     = global.leaderBoardRoomLoaderType;

var spriteName = "spr_topPlayers";
if(leaderBoardType == 2)
    spriteName = "spr_topInProgress";
else if(leaderBoardType == 3)
    spriteName = "spr_lb_league";    
                                                                                                                                                     
tempColor = make_color_rgb(148,94,57);
draw_set_color(tempColor);
draw_set_halign(fa_center);
margin = 165;
if(global.leaderBoardRoomLoaderType == 3)
{
    draw_sprite_ext(spr_lb_rank,0,tempXCenter - 355 * tempXNumericalScale,tempYCenter - (margin-30) * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_username,0,tempXCenter - 155 * tempXNumericalScale, tempYCenter - (margin-30) * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_score,0,tempXCenter + 090 * tempXNumericalScale, tempYCenter - (margin-30) * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_lvl,0,tempXCenter + 310 * tempXNumericalScale, tempYCenter - (margin-30) * tempYNumericalScale, 1, 1, 0,-1,1);
}
else
{
    draw_sprite_ext(spr_lb_rank,0,tempXCenter - 355 * tempXNumericalScale, /*view_yview[0] + 195 * (view_hview[0] / 720)*/tempYCenter - margin * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_username,0,tempXCenter - 155 * tempXNumericalScale, tempYCenter - margin * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_score,0,tempXCenter + 090 * tempXNumericalScale, tempYCenter - margin * tempYNumericalScale, 1, 1, 0,-1,1);
    draw_sprite_ext(spr_lb_lvl,0,tempXCenter + 310 * tempXNumericalScale, tempYCenter - margin * tempYNumericalScale, 1, 1, 0,-1,1);
}
draw_set_color(c_white);
draw_sprite_ext(asset_get_index(spriteName),0, view_xview[0] + 575 * tempXNumericalScale, view_yview[0] + 120 * tempYNumericalScale,1,1,0,-1,1);

if(leaderBoardType == 3)
{
    tempColor = make_color_rgb(148,94,57);
    draw_set_color(tempColor);
    draw_set_halign(fa_center);
    draw_set_valign(fa_middle);
    var rTimeString = scr_convert_second_to_time(global.leagueRemainedTime, 0);
    var sec = string_copy(rTimeString , 9 , 2);
    var mint= string_copy(rTimeString , 6 , 2);
    var hour= string_copy(rTimeString , 3 , 2);
    var day = string_copy(rTimeString , 1 , 1);
    
    if(checkTimeDecreasing == false)
    {
        alarm[0] = 0.1 * room_speed;
    }
    if(string_copy(sec , 1, 1) == "0")  sec = string_copy(sec, 2, 1);
    if(sec=="0")            text4 = "";
    else if(sec == "1")     text4 = sec + "second ";
    else                    text4 = sec + "seconds ";
    
    if(string_copy(mint , 1, 1) == "0")  mint = string_copy(mint, 2, 1);
    if(mint=="0")           text3 = "";
    else if(mint == "1")     text3 = mint + "minute ";
    else                    text3 = mint + "minutes ";
    
    if(string_copy(hour , 1, 1) == "0")  hour = string_copy(hour, 2, 1);
    if(hour=="0")           text2 = "";
    else if(hour == "1")     text2 = hour + "hour ";
    else                    text2 = hour + "hours ";
    
    //if(string_copy(day , 1, 1) == "0")  day = string_copy(day, 2, 1);
    if(day=="0")            text1 = "";
    else if(day == "1")     text1 = day + "day ";
    else                    text1 = day + "days ";
    
    timeString = string(text1)+string(text2)+string(text3)+string(text4);
    
    draw_text_transformed(view_xview[0] + 578 * tempXNumericalScale, view_yview[0] + 178 * tempYNumericalScale, timeString ,0.8,0.8,0); 
    
    draw_set_color(c_white);
    draw_text_transformed(view_xview[0] + 575 * tempXNumericalScale, view_yview[0] + 175 * tempYNumericalScale, timeString ,0.8,0.8,0); 
    //draw_text_transformed(view_xview[0] + 575 * tempXNumericalScale, view_yview[0] + 155 * tempYNumericalScale,string(rTimeString),1,1,0);
    tempColor = make_color_rgb(148,94,57);
    draw_set_color(tempColor);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>43,36</point>
    <point>44,44</point>
  </PhysicsShapePoints>
</object>
